# Database
# Local: use SQLite (trocar schema.prisma provider para "sqlite")
# DATABASE_URL="file:./dev.db"
# Production: use PostgreSQL
DATABASE_URL="postgresql://user:password@localhost:5432/faciliauto_mvp"

# Redis (opcional)
REDIS_URL="redis://localhost:6379"

# =============================================================================
# LLM PROVIDERS - Sistema com Fallback Autom√°tico ü§ñ
# =============================================================================

# OpenAI - LLM Prim√°rio + Embeddings Prim√°rios üß†
# Obtenha sua chave em: https://platform.openai.com/api-keys
# LLM: gpt-4o-mini ($0.15 input, $0.60 output per 1M tokens)
# Embeddings: text-embedding-3-small (1536 dim, $0.02/1M tokens, MTEB 62.3)
OPENAI_API_KEY="sk-..."

# Groq - LLM Fallback ‚ö°
# Obtenha sua chave em: https://console.groq.com/keys
# Modelo: llama-3.1-8b-instant ($0.05 input, $0.08 output per 1M tokens)
# Tier gratuito: 30 req/min, 14.4k tokens/min
# Usado automaticamente se OpenAI falhar
GROQ_API_KEY="gsk-..."

# Cohere - Embeddings Fallback üåê
# Obtenha sua chave em: https://dashboard.cohere.com/api-keys
# Modelo: embed-multilingual-v3.0 (1024‚Üí1536 dim, $0.01/1M tokens)
# Excelente para portugu√™s, usado se OpenAI embeddings falhar
# Tier gratuito: 100 chamadas/minuto
COHERE_API_KEY="..."

# Meta Cloud API (WhatsApp Business API Oficial) üì±
# Obtenha em: https://developers.facebook.com/
# Veja: META_CLOUD_API_SETUP.md para instru√ß√µes completas
META_WHATSAPP_TOKEN="seu_token_aqui"
META_WHATSAPP_PHONE_NUMBER_ID="seu_phone_number_id_aqui"
META_WHATSAPP_BUSINESS_ACCOUNT_ID="seu_business_account_id_aqui"
META_WEBHOOK_VERIFY_TOKEN="faciliauto_webhook_2025"

# WhatsApp (legado)
WHATSAPP_NAME="FaciliAuto"

# CRM Webhook (opcional)
CRM_WEBHOOK_URL=""

# =============================================================================
# SALES TEAM - Notifica√ß√£o de Leads üìû
# =============================================================================

# N√∫mero do vendedor que receber√° os leads quentes via WhatsApp
# Formato: c√≥digo do pa√≠s + DDD + n√∫mero (sem espa√ßos ou caracteres especiais)
# Exemplo: 5511949105033
SALES_PHONE_NUMBER=""

# Environment
NODE_ENV="development"
PORT=3000

# Admin Seed Secret (para endpoint /admin/seed-robustcar)
# Use um valor forte e √∫nico em produ√ß√£o!
SEED_SECRET="change-me-in-production-use-strong-secret"

# =============================================================================
# FEATURE FLAGS üö©
# =============================================================================

# Sistema Conversacional (Natural Language) vs Quiz Estruturado
# true: Usa VehicleExpertAgent para conversa natural
# false: Usa QuizAgent estruturado (legado)
ENABLE_CONVERSATIONAL_MODE="false"

# Rollout gradual do modo conversacional (0-100)
# Define % de usu√°rios que usar√£o o novo sistema
# Exemplo: 10 = 10% dos usu√°rios usam conversacional, 90% usam quiz
CONVERSATIONAL_ROLLOUT_PERCENTAGE="0"

# =============================================================================
# AUDIO TRANSCRIPTION üé§
# =============================================================================

# Habilita transcri√ß√£o de mensagens de √°udio usando Groq Whisper
# true: Processa mensagens de √°udio e transcreve para texto
# false: Responde que √°udio n√£o √© suportado
# Requer: GROQ_API_KEY configurada
ENABLE_AUDIO_TRANSCRIPTION="true"

# Dura√ß√£o m√°xima de √°udio em segundos (default: 120 = 2 minutos)
# √Åudios maiores ser√£o rejeitados com mensagem de erro

# =============================================================================
# OBSERVABILITY (LangSmith) üïµÔ∏è
# =============================================================================

# Habilita tracing do LangChain/LangSmith
# true: Envia traces para o LangSmith
# false: Desabilita tracing
LANGCHAIN_TRACING_V2="true"
LANGCHAIN_ENDPOINT="https://api.smith.langchain.com"
LANGCHAIN_API_KEY="<sua-chave-aqui>"
LANGCHAIN_PROJECT="carinsight-prod"
