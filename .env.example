# Database
# Local: use SQLite (trocar schema.prisma provider para "sqlite")
# DATABASE_URL="file:./dev.db"
# Production: use PostgreSQL
DATABASE_URL="postgresql://user:password@localhost:5432/faciliauto_mvp"

# Redis (opcional)
REDIS_URL="redis://localhost:6379"

# =============================================================================
# LLM PROVIDERS - Sistema com Fallback AutomÃ¡tico ðŸ¤–
# =============================================================================

# OpenAI - LLM PrimÃ¡rio + Embeddings PrimÃ¡rios ðŸ§ 
# Obtenha sua chave em: https://platform.openai.com/api-keys
# LLM: gpt-4o-mini ($0.15 input, $0.60 output per 1M tokens)
# Embeddings: text-embedding-3-small (1536 dim, $0.02/1M tokens, MTEB 62.3)
OPENAI_API_KEY="sk-..."

# Groq - LLM Fallback âš¡
# Obtenha sua chave em: https://console.groq.com/keys
# Modelo: llama-3.1-8b-instant ($0.05 input, $0.08 output per 1M tokens)
# Tier gratuito: 30 req/min, 14.4k tokens/min
# Usado automaticamente se OpenAI falhar
GROQ_API_KEY="gsk-..."

# Cohere - Embeddings Fallback ðŸŒ
# Obtenha sua chave em: https://dashboard.cohere.com/api-keys
# Modelo: embed-multilingual-v3.0 (1024â†’1536 dim, $0.01/1M tokens)
# Excelente para portuguÃªs, usado se OpenAI embeddings falhar
# Tier gratuito: 100 chamadas/minuto
COHERE_API_KEY="..."

# Meta Cloud API (WhatsApp Business API Oficial) ðŸ“±
# Obtenha em: https://developers.facebook.com/
# Veja: META_CLOUD_API_SETUP.md para instruÃ§Ãµes completas
META_WHATSAPP_TOKEN="seu_token_aqui"
META_WHATSAPP_PHONE_NUMBER_ID="seu_phone_number_id_aqui"
META_WHATSAPP_BUSINESS_ACCOUNT_ID="seu_business_account_id_aqui"
META_APP_SECRET="seu_meta_app_secret_aqui"
META_WEBHOOK_VERIFY_TOKEN="faciliauto_webhook_2025"

# WhatsApp (legado)
WHATSAPP_NAME="FaciliAuto"

# CRM Webhook (opcional)
CRM_WEBHOOK_URL=""

# =============================================================================
# SALES TEAM - NotificaÃ§Ã£o de Leads ðŸ“ž
# =============================================================================

# NÃºmero do vendedor que receberÃ¡ os leads quentes via WhatsApp
# Formato: cÃ³digo do paÃ­s + DDD + nÃºmero (sem espaÃ§os ou caracteres especiais)
# Exemplo: 5511949105033
SALES_PHONE_NUMBER=""

# Environment
NODE_ENV="development"
PORT=3000

# Admin Seed Secret (para endpoint /admin/seed-robustcar)
# Use um valor forte e Ãºnico em produÃ§Ã£o!
SEED_SECRET="change-me-in-production-use-strong-secret"

# Endpoint de teste de envio via /webhooks/whatsapp/test (desabilitado por padrão)
ENABLE_WEBHOOK_TEST_ENDPOINT="false"

# =============================================================================
# FEATURE FLAGS ðŸš©
# =============================================================================

# Sistema Conversacional (Natural Language) vs Quiz Estruturado
# true: Usa VehicleExpertAgent para conversa natural
# false: Usa QuizAgent estruturado (legado)
ENABLE_CONVERSATIONAL_MODE="false"

# Rollout gradual do modo conversacional (0-100)
# Define % de usuÃ¡rios que usarÃ£o o novo sistema
# Exemplo: 10 = 10% dos usuÃ¡rios usam conversacional, 90% usam quiz
CONVERSATIONAL_ROLLOUT_PERCENTAGE="0"

# =============================================================================
# AUDIO TRANSCRIPTION ðŸŽ¤
# =============================================================================

# Habilita transcriÃ§Ã£o de mensagens de Ã¡udio usando Groq Whisper
# true: Processa mensagens de Ã¡udio e transcreve para texto
# false: Responde que Ã¡udio nÃ£o Ã© suportado
# Requer: GROQ_API_KEY configurada
ENABLE_AUDIO_TRANSCRIPTION="true"

# DuraÃ§Ã£o mÃ¡xima de Ã¡udio em segundos (default: 120 = 2 minutos)
# Ãudios maiores serÃ£o rejeitados com mensagem de erro

# =============================================================================
# OBSERVABILITY (LangSmith) ðŸ•µï¸
# =============================================================================

# Habilita tracing do LangChain/LangSmith
# true: Envia traces para o LangSmith
# false: Desabilita tracing
LANGCHAIN_TRACING_V2="true"
LANGCHAIN_ENDPOINT="https://api.smith.langchain.com"
LANGCHAIN_API_KEY="<sua-chave-aqui>"
LANGCHAIN_PROJECT="carinsight-prod"

